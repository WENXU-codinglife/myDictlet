<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FLASHCARD</title>
</head>
<body onload="ini_page()">
    <h1 id = "headone">TEXT</h1>

    <div id = "box"></div>



		<!-- Scripts -->
        <script src="../assets/js/jquery.min.js"></script>
        <script src="../assets/js/skel.min.js"></script>
        <script src="../assets/js/util.js"></script>
        <script src="../assets/js/main.js"></script>

        <script>
            let ENV = false;
            function ini_page(){
                var date = getUrlVars();
                console.log(date);
                $(document).ready(function() {
                    var qurl="/fetchwords";
                    $.ajax({
                        type: "POST",
                        cache: false,
                        data:{keyword:date},
                        url: qurl,
                        dataType: "json",
                        //not understand what the codes are for
                        success: function(response) { 
                            //console.log(response); 
                            let htmlText = response['words'] 
                            document.getElementById("box").innerHTML = htmlText;
                        },
                        error: function(response) {
                            console.log(error); 
                        }
                    })
                });

            }

            function getUrlVars() {
                var ret = '';
                var parts = window.location.href;
                let i = 52;
                let j = 62;
                if (EVN) {
                    i = 40;
                    j = 50;
                }
                
                while(i < j){
                    ret = ret + parts[i];
                    i++;
                }
                //console.log(ret)
                return ret;
            }
        </script>
</body>
</html>